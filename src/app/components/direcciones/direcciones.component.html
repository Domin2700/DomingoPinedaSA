<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalClientes">
        <i class="fas fa-user-plus"></i> Crear cliente
</button>
<h3 class="fw-lighter">Direccion</h3>

<hr>
<form class="form" [formGroup]="formDirecciones" (ngSubmit)="onSubmit()">



    <div class="row">
        <div class="form-group col-md-6">
            <label for="idCliente">Cliente</label>
            <select class="form-control" id="idCliente" formControlName="idCliente" [ngClass]="{'is-invalid':submitted && f.idCliente.errors}">
              <option [ngValue]="null">Seleccione un cliente</option>
              <option *ngFor="let clientes of clientes" [ngValue] ="clientes.idCliente"  >{{clientes.nombres}}</option>
           </select>
            <div *ngIf="submitted && f.idCliente.errors" class="invalid-feedback animated fadeIn">
                <div *ngIf="f.idCliente.errors.required">Requerido</div>
            </div>
        </div>

        <div class="form-group col-md-6">
            <label for="idProvincia">Provincia</label>
            <select class="form-control" id="idProvincia" formControlName="idProvincia" [ngClass]="{'is-invalid':submitted && f.idProvincia.errors}">
              <option [ngValue]="null">Seleccione una provincia</option>
              <option *ngFor="let provincias of provincias" [ngValue] ="provincias.idProvincia"  >{{provincias.nombre}}</option>
            </select>
            <div *ngIf="submitted && f.idProvincia.errors" class="invalid-feedback animated fadeIn">
                <div *ngIf="f.idProvincia.errors.required">Requerido</div>
            </div>
        </div>

    </div>

    <div class="row mb-2">
        <div class="form-group col-md-4">
            <label for="calle">Calle</label>
            <input type="text" class="form-control" id="calle" formControlName="calle" [ngClass]="{'is-invalid':submitted && f.calle.errors}">
            <div *ngIf="submitted && f.calle.errors" class="invalid-feedback animated fadeIn">
                <div *ngIf="f.calle.errors.required">Requerido</div>
                <div *ngIf="f.calle.errors.maxlength">Maximo 50 digitos</div>
            </div>
        </div>

        <div class="form-group col-md-4">
            <label for="sector">Sector</label>
            <input type="text" class="form-control" id="sector" formControlName="sector" [ngClass]="{'is-invalid':submitted && f.sector.errors}">
            <div *ngIf="submitted && f.sector.errors" class="invalid-feedback animated fadeIn">
                <div *ngIf="f.sector.errors.required">Requerido</div>
                <div *ngIf="f.sector.errors.maxlength">Maximo 50 digitos</div>
            </div>
        </div>

        <div class="form-group col-md-4">
            <label for="municipio">Municipio</label>
            <input type="text" class="form-control" id="municipio" formControlName="municipio" placeholder="Opcional">

        </div>

    </div>

    <button type="reset" class="btn btn-primary" [ngClass]="{'btn-primary':!f.idDireccion.value,'btn-danger':f.idDireccion.value}">
        <span *ngIf="!f.idDireccion.value">
         <i class="fas fa-eraser fa-lg "></i> Limpiar 
        </span>

        <span *ngIf="f.idDireccion.value">
         <i class="fas fa-times-circle fa-lg "></i> Cancelar 
        </span>
         
    </button>



    <button type="submit" class="btn btn-primary" [ngClass]="{'btn-success':f.idDireccion.value,'btn-primary':!f.idDireccion.value}">
        <span *ngIf="!f.idDireccion.value">
            <i class="fas fa-save fa-lg "></i> Guardar 
        </span>

       <span *ngIf="f.idDireccion.value">
        <i class="fas fa-sync-alt fa-lg"></i> Actualizar 
        </span>
                                                    
    </button>

</form>
<hr>
<!-- table -->
<div class="my-custom-scrollbar " style="height: 250px;">
    <table class="table table-responsive-lg table-hover">
        <thead>
            <tr>
                <th>CLIENTE</th>
                <th>CEDULA</th>
                <th>PROVINCIA</th>
                <th>MUNICIPIO</th>
                <th>SECTOR</th>
                <th>CALLE</th>
                <th></th>
                <th></th>

            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let direcciones of direcciones">
                <td>{{direcciones.cliente}}</td>
                <td>{{direcciones.cedula}}</td>
                <td>{{direcciones.provincia}}</td>
                <td>{{direcciones.municipio}}</td>
                <td>{{direcciones.sector}}</td>
                <td>{{direcciones.calle}}</td>

                <td>
                    <span title="Editar" (click)="cargarDatos(direcciones)" class="puntero">
                     <i class="fas fa-edit text-primary"></i>
                 </span>
                </td>
                <td>
                    <span title="Borrar" (click)="deleteDireccion(direcciones.idDireccion!)" class="puntero text-danger">
                     <i class="fas fa-trash-alt"></i>
               </span>
                </td>

            </tr>
        </tbody>
    </table>
</div>


<app-modal-clientes [clientes]="clientes" (ejecutar)="getClientes()"></app-modal-clientes>